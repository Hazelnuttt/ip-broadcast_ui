# è®°å½•ä¸€ä¸‹æˆ‘ç°åœ¨çš„å¿ƒæƒ…å§

> æˆ‘å‘èª“ï¼šè¿™ä¸€ç¯‡å°†æˆä¸ºæˆ‘æœ€åä¸€ç¯‡ç”¨ä¸­æ–‡å†™çš„ Readme

### èµ·å› 

- åˆ«äººçš„ Readme å†™çš„å¤ªå¥½<del>ï¼ˆè¡Œäº†å§ï¼‰</del>
- æœ€è¿‘è¿™å‡ å¤©ï¼Œçˆ±ç¡è§‰ï¼Œä½†æ—¥å­è¿‡å¾—ï¼Œï¼Œï¼Œå¿ƒæƒ…æå·®ï¼Œæ•ˆç‡æä½ã€‚ä½†æ˜¯æˆ‘ç°åœ¨ä¸æƒ³æ”¾å¼ƒäº†ï¼Œæœ¬æ¥æˆ‘è¿˜å¿ƒè™šã€‚ã€‚ã€‚ã€‚
- èµ°è¿‡çš„ï¼ˆåˆ†æ•£çš„æ•´æ•´ 12 ä¸ªå°æ—¶ï¼‰çš„å‘ï¼Œï¼ˆä¸€ä¸‹åˆï¼‰çš„å‘ï¼Œï¼ˆä¸€å¤©ï¼‰çš„å‘å¤ªå¤šï¼Œå®åœ¨ä¸ç”˜å¿ƒï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ•ˆç‡ä½çš„åŸå› ã€‚æˆ‘ä¸æœæ°”ã€‚
- æˆ‘æœ¬æ¥çœŸçš„å¾ˆä¸å–œæ¬¢å†™è¿™ç§ blog çš„ä¸œè¥¿ï¼Œå› ä¸ºæˆ‘è§‰å¾—æœ‰ç‚¹æµªè´¹æ—¶é—´ï¼Œå¯æ˜¯ï¼Œè°è®©æˆ‘ä»Šå¤©æ™šä¸Šçš„å¿ƒæƒ…è¿™ä¹ˆå¾—å·®ï¼Œåˆä¸å›°ï¼Œå…¨å½“æ˜¯å‘æ³„äº†ã€‚
- ä»Šå¤©æˆ‘åˆæ¥äº†ï¼Œå¥½çƒ¦å•Šï¼Œæˆ‘çš„æ•ˆç‡ã€‚æˆ‘çš„æ—¶é—´éƒ½ç»™äº†ä½ ï¼Œä¸ºå•¥æˆ‘è¿˜æ˜¯åªæœ‰ç¾¡æ…•åˆ«äººçš„ä»½
- åˆæ¥å†™è§£å†³ä¸äº†çš„ä¸œè¥¿äº†ï¼Œæˆ‘å•¥æ—¶å€™èƒ½å†™å®Œï¼Œè§£å†³å®Œå•Šï¼Œè™½è¯´ç™¾åº¦å¥½ã€‚æˆ‘çš„è¿‡ç¨‹ï¼šæœ‰é—®é¢˜=>ç™¾åº¦ï¼ˆè¡¨è¿°ä¸å¥½ï¼‰=>å†ç™¾åº¦ï¼ˆçœ‹äº†ç‚¹ç›¸å…³çš„ï¼Œä¼šäº†äº›ä¸“ç”¨è¯ï¼Œå†è¿›ä¸€æ­¥é è¿‘æˆ‘çš„é—®é¢˜ï¼‰=>çœ‹ä»£ç => çœ‹ä¸æ‡‚äº†ï¼ˆå¿ƒç¢ï¼‰=>è¿˜æ˜¯ js éš¾ï¼Œcss ä¹Ÿå¾ˆçœ‹åŸºç¡€
- æˆ‘ tm åˆåŒå’(å•)æ¥äº†ï¼Œæˆ‘çœŸçš„å¿ä¸ä½é£™è„è¯äº†ï¼Œå†æ—¶æ•´ä¸¤å¤©çš„ï¼ˆ24ï¼‰çš„å‘ï¼Œæˆ‘ç°åœ¨ä¸çŸ¥é“æ˜¯ fetch çš„é—®é¢˜è¿˜æ˜¯ï¼Œé€»è¾‘è¿˜æ˜¯ï¼Œè¯­æ³•ã€ï¼ˆçˆ†ç‚¸ï¼‰
- æˆ‘å‰ç«¯å†™ä¸ä¸‹å»ï¼Œå°±å¼„å¼„åç«¯çš„ä¸œè¥¿ï¼Œè£…ä¸ª Navicat å•Šã€maven å•Šã€å¯¼å…¥æ•°æ®å•Šã€åç«¯å‘è²Œä¼¼è¿˜è¦æ¶å¿ƒï¼Œè£…ä¸ª jar åŒ…ï¼ˆæ—¶è€—è´¼é•¿ï¼‰ï¼Œè¿˜æœ‰ä¸ª jdbc çš„ï¼Œè€Œä¸”è¿™ä¸ªå‘è¿˜æ˜¯æ‰¾ä¸åˆ°çš„ã€‚ï¼ˆå®³æ€•ï¼‰

## æ­£é¢˜

### å·²ç»è§£å†³çš„é—®é¢˜

- `onChange`ç»‘å®šä¸‰ä¸ªä¸åŒã€ä½†ç±»ä¼¼çš„ã€è¡¨å•æäº¤äº‹ä»¶

```javascript
onChange={e => this.handleChange({ username: e.target.value })}

onChange={e => this.handleChange({ password: e.target.value })}

onChange={e => this.handleChange({ remember: !e.target.value })}

//æˆåŠŸå®ä¾‹
handleChange = param => {
    this.setState({ ...this.state, ...param });
  };

//å¤±è´¥å®ä¾‹
handleChange =(e)=>{
    this.setState({
        username:e.target.value,
        password:e.target.value,
        remember:!e.target.value
    })
} // å®ƒä¼šè¯´è¿™ä¸ªvalueä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ª
```

- å®‰è£…é—®é¢˜
  è¿™é‡Œæˆ‘çœŸçš„è¦æ°”æ­»ï¼Œæˆ‘èŠ±çš„æ—¶é—´ï¼Œæˆ‘çš„å¿ƒæ€ã€‚o(â•¥ï¹â•¥)o

```npm
<!-- å¤±è´¥çš„ä¾‹å­ -->

npx install -g create-react-app
create-react-app demo
cd demo
npm start

<!-- åˆ°è¿™é‡Œçš„ç¡®å¯ä»¥ -->
<!-- å‰ä¸¤æ­¥å¯ä»¥æ¢æˆ `npx create-react-app demo` -->


<!-- æ¥ç€æˆ‘æƒ³å¯ç”¨antdçš„ç»„ä»¶åº“ï¼Œè¿™è¾¹æˆ‘å·²ç»å¿˜äº†æˆ‘ä»¥å‰æ˜¯æ€ä¹ˆå¼„çš„ï¼Œä¸‹æ¬¡å†è¯•è¯• -->

npm i antd-init -g
antd-init

<!-- æ€»ä¹‹å°±æ˜¯æ²¡æœ‰webpackæ¨¡å—ï¼Œcreate-react-appé‡Œæœ‰webpackï¼Œantdä¹Ÿæœ‰webpackï¼Œä¸çŸ¥æ˜¯ä¸æ˜¯å†²çªäº† -->
<!-- æœ€ç»ˆè¿˜æ˜¯è·Ÿç€antdçš„create-react-appä¸­çš„æ•™ç¨‹æ¥äº† -->
```

å› ä¸ºæˆ‘å®‰è£…å®Œ create-react-app åå‘ç° package.json,ä¸œè¥¿å¾ˆå°‘å•Šï¼Œä»¥ä¸ºå•¥éƒ½æ²¡æœ‰ï¼Œå…¶å®å®ƒæ˜¯å·²ç»å®‰è£…å¥½äº†çš„ï¼Œwebpack çš„é…ç½®æ–‡ä»¶å¥½åƒä¹Ÿåœ¨ bin ç›®å½•é‡Œï¼Œé€‚åˆåˆå­¦è€…ï¼Œä¸‹æ¬¡è¡¥ä¸ªé“¾æ¥ã€‚

- æˆ‘è¦åœ¨å­ç»„ä»¶é‡Œæ”¾ä¸€ä¸ªå¯¼èˆªæ ï¼Œåˆšåˆšè§£å†³å®Œ
  ![chilren_menu](https://github.com/Hazelnuttt/antd-demo/blob/master/docs/chilren_menu.png)

```javascript
//meun2å­ç»„ä»¶
render(){
  return(
    //è¿™è¾¹ä¸èƒ½åœ¨å¼•ç”¨menu2ç»„ä»¶äº†ï¼Œå› ä¸ºmenu2é‡Œå·²ç»å¼•ç”¨äº†ä¸€ä¸ªmenu1ï¼Œä¼šå‡ºç°ä¸¤ä¸ªmenu1
    // <Menu2>lalala</Menu2>
    <><div>
      lalala
    </div></>
  )
}
```

```javascript
//homeå­ç»„ä»¶
//ä¸€å¼€å§‹å‡ºç°è¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¥ä¸ºæ˜¯:meun2å­ç»„ä»¶ å·²ç»ä¸çŸ¥é“å®ƒæ˜¯è°çš„å„¿å­äº†ï¼Œå› ä¸ºæ²¡`<Menu>`åŒ…èµ·æ¥
render(){
  return(
    <Home>
      <Menu>lalala</Menu>
      {this.props.children}
    </Home>
  )
}
```

```javascript
//äºæ˜¯è¿™ä¹ˆæ”¹è¿›
//=>
render(){
  return(
    <Home>
      <Menu>lalala</Menu>
       <Router>
          <Route path="/home/ter/ter_info" component={Man_info} />
          <Route path="/home/ter/add" component={Newter} />
          <Route path="/home/ter/edit_single" component={Single_edit} />
          <Route path="/home/ter/edit_batch" component={Batch_edit} />
       </Router>
    </Home>
  )
}
//åˆ°è¿™è¾¹å­ç»„ä»¶ç»ˆäºæ‰¾åˆ°è‡ªå·±åœ¨å“ªäº†
//ä½†æ˜¯ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºRouteåœ¨å­ç»„ä»¶é‡Œçš„ç¼˜æ•…ï¼Œé¡µé¢ä¸èƒ½å±€éƒ¨æ¸²æŸ“ï¼Œå¿…é¡»åˆ·æ–°åï¼Œæ‰ã€‚ã€‚ã€‚
```

```javascript
//æ‰€ä»¥ä¸€å¼€å§‹æ­»äº†,äºæ˜¯
//=>
//meun2å­ç»„ä»¶
render(){
  return(
    <div style={{ marginLeft: 250 }}>
      lalala
    </div>
  )
}
//ç«Ÿç„¶ä»å·¦ä¸‹è§’ï¼Œä¸Šå»äº†ï¼Œè™½ç„¶ä»–ç®—æ˜¯homeçš„ç»„ä»¶ï¼ˆç¤¼èŠ±ï¼‰

```

### æœªè§£å†³çš„é—®é¢˜

- 1ã€eslint+husky+premiter
  è¿™è¾¹æˆ‘å¿«æ™•äº†ï¼Œvscode æœ‰æ’ä»¶ï¼Œè¿™ä¸‰ä¸ªä¸œè¥¿å¥½æœ‰ npmï¼Œè¿˜æœ‰è§„åˆ™ï¼Œæˆ‘ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œnpm å®Œï¼Œè¿˜è¦é…ç½®è·¯å¾„ï¼Œè¿˜æ˜¯å¾ˆç³Šæ¶‚Â·Â·Â·Â·æˆ‘ä¸çŸ¥é“æˆ‘è¿™ä¸ª project çš„æ ‡é…æ˜¯ä»€ä¹ˆå•ŠÂ·Â·Â·Â·
- 2ã€å¯¼èˆªæ  å•é¡µé¢åˆ‡æ¢
  ![homedemo](https://github.com/Hazelnuttt/antd-demo/blob/master/docs/homedemo.png)
  ![homedemo2](https://github.com/Hazelnuttt/antd-demo/blob/master/docs/homedemo2.png)
- 3ã€search/reset
  antd è²Œä¼¼ç›´æ¥åšåˆ°äº†ï¼Œå‰ç«¯ï¼Œå¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ï¼Œä»Šå¤©æˆ‘å°±å…‰å¼„äº†ä¸€ä¸ªé™æ€ searchï¼Œæˆ‘æœ¬æƒ³æ¨¡ä»¿ antd,ä½†æ˜¯å‚æ•°å®åœ¨å¤ªå¤šäº†ï¼Œä¸ç†è§£ï¼Œçœ‹ä¸æ‡‚ã€‚ä¸ä¼šå†™æŸ¥è¯¢ï¼Œåç«¯å¦‚æœä¼ è¿‡æ¥åŠ å·¥ï¼Œä¿®æ”¹å¥½çš„ä¸€ç»„æ•°ç»„ï¼Œæˆ‘æˆ–è®¸Â·Â·Â·Â·Â·Â·Â·
- 4ã€ä¸‹æ‹‰æ¡†

```javascript
<Col offset={1} span={19} className={'h_avatar'}>
  æ¬¢è¿æ‚¨ï¼Œ
  <Dropdown overlay={menu} trigger={['click']}>
    <a className="ant-dropdown-link" href="#">
      adminã€‚
      <Icon type="down" />
    </a>
  </Dropdown>
</Col>
//Dropdown é‡Œä¸èƒ½å†™ä¸œè¥¿o(â•¥ï¹â•¥)o
```

- 5ã€å¯¼èˆªæ 
  å› ä¸ºæˆ‘çš„å¯¼èˆªæ  å’Œ å³è¾¹çš„ children ç»„ä»¶ æ˜¯åˆ†å¼€çš„ï¼Œæˆ‘çš„å¯¼èˆªæ ä¸èƒ½å’Œæˆ‘å³è¾¹çš„ä¸œè¥¿ä¸€æ ·é«˜ï¼Œæˆ–è€…å¸Œæœ›å®ç°å’Œå±å¹•çš„å¤§å°ä¸€æ ·é«˜ã€‚æŸ¥äº†å¥½å¤šï¼Œå…¶å®æŸ¥ä¹‹å‰æˆ‘å°±çŸ¥é“ æ™®éç­”æ¡ˆæ˜¯`height:100%`,ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚è¿˜æœ‰ä¸€äº› js çš„å†™æ³•ï¼Œæˆ‘çœ‹äº†ä¸€ä¸¢ä¸¢ï¼Œæœ€åå› ä¸ºä¸çŸ¥é“æ”¾åœ¨å“ªé‡Œï¼Œæ”¾å¼ƒäº†ã€‚ ï¼ˆå‘²ç‰™ï¼‰
- 6ã€å¯¼èˆªæ é€‰ä¸­
  å› ä¸ºç”¨çš„ antd,å°±å…‰å…‰ç®€ç®€å•å•çš„çš„ç”¨ï¼Œç‚¹ä»€ä¹ˆå°±é€‰ä¸­ä»€ä¹ˆï¼ŒåŠ äº†ç»„ä»¶åï¼Œé€‰ä¸­çš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ã€‚
- 7ã€è¯´ body é‡Œä¸èƒ½ç”¨ div,ç„¶è€Œæ”¹äº†ä¹Ÿæ²¡æœ‰ï¼Œåœ¨ js é‡Œæˆ‘ä¸æ¯«ä¸ä¼šå†™ html/css äº†ï¼Œå†™çš„ä¸œè¥¿ ä¸æ˜¯â€œä¸èƒ½äº¤äº’â€ï¼Œ å°±æ˜¯ â€œåœ¨è¿™é‡Œä¸èƒ½ä½¿ç”¨â€ï¼ŒæŠ¥é”™ï¼
- 8ã€token è¿™é‡Œåç«¯ç”¨äº†ä¸€ä¸ªæ–°å‡ºæ¥çš„ä¸œè¥¿ï¼ŒçœŸçœŸä¸é”™ï¼Œæ”¾åœ¨ header ä¸­ä¼ è¿‡æ¥ï¼Œä¸‹é¢å¯ä»¥çœ‹å¾—å¾ˆæ¸…æ¥š,å¯æ˜¯ res,ä¸å°±æ˜¯åˆ†ä¸º body,headers å˜›ï¼Œæˆ‘ä¹Ÿè¯•è¿‡åœ¨ header ä¸­è·å–ï¼Œç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚ã€ã€ã€ã€ã€è¿˜æœ‰ä¸ªæ’ä»¶ï¼Œchrome ä¸ç¿»å¢™ä¸è¡Œå˜›ï¼Œå¾ˆç”Ÿæ°”ã€‚
  ![token](https://github.com/Hazelnuttt/antd-demo/blob/master/docs/token.png)
  ![token1](https://github.com/Hazelnuttt/antd-demo/blob/master/docs/token1.png)

```javascript
handleSubmit = () => {
  const { username, password, remember } = this.state
  fetch('http://198.13.50.147:8099/api/auth/login', {
    method: 'post',
    headers: {
      // 'Accept':'application/json', //æ¥æ”¶
      'Content-Type': 'application/json'
    }, //è¿™ä¸¤ä¸ªä¸œè¥¿ä¸çŸ¥é“æ˜¯å“ªä¸ªå»æ¥æ”¶
    body: JSON.stringify({
      username,
      password,
      remember
    })
  })
    .then(res => res.json())
    .then(res => {
      const { loginSuccess, message1, token } = res
      if (loginSuccess) {
        // ç™»å½•æˆåŠŸå¤„ç†
        localStorage.removeItem('usesr_token')
        localStorage.setItem('user_token', token)
        // this.setState({ user: data });
        return <Redirect to="/home/user/index" />
      } else {
        // ç™»å½•å¤±è´¥å¤„ç†
        message.error(message1)
      }
    })

  //const {token} = res.headers.get('token')
  //const {token} = res.headers.get(`token`)
  //const {token} = res.headers.get(`{token}`)
  //éƒ½è¯•è¿‡æ¥äº†
}
```

- 9ã€å¾®è°ƒéŸ³é‡çš„ä¸€ä¸ªç»„ä»¶æ²¡æœ‰
- 10ã€å‘ç°ä¸ªå¥‡æ€ªçš„äº‹æƒ…ï¼Œè·Ÿä¸Šé¢çš„è·¯ç”±å‘ 2 åº”è¯¥æœ‰å…³ï¼Œå¦‚æœä¸è¦ä¸‹é¢ç¬¬ä¸€æ¡è·¯ç”±ï¼Œç›´æ¥å¼•ç”¨`component={Man_ter}`è¿™ä¸ªç»„ä»¶ï¼Œåº”è¯¥ä¹Ÿå¯ä»¥è§£å†³ä¸Šé¢çš„è·¯ç”±é—®é¢˜

```javascript
          <Route path="/home/ter" component={Man_ter} />
          <Route path="/home/ter/ter_info" component={Man_info} />
          <Route path="/home/ter/add" component={Newter} />
          <Route path="/home/ter/edit_single" component={Single_edit} />
          <Route path="/home/ter/edit_batch" component={Batch_edit} />
```

### æœªè§£å†³åˆ°è§£å†³

- å¯¼èˆªæ å•é¡µé¢åˆ‡æ¢ï¼Œç»ˆäºå¼„æ‡‚äº†ï¼Œæ˜¯`Switch`çš„å‘ï¼Œè¿™è¾¹çš„çŸ¥è¯†ç‚¹ä¸‹æ¬¡å†å†™åœ¨è¿™é‡Œï¼ˆç¤¼èŠ±ï¼‰
  ![solvehomedemo](https://github.com/Hazelnuttt/antd-demo/blob/master/src/solvehomedemo.png)
- æˆ‘ç»ˆäºå®ç°äº†ç¬¬ä¸€æ¬¡ç”¨æœåŠ¡å™¨ä¼ è¿‡æ¥çš„ json é€‰å–æ•°ç»„å¯¹è±¡ä¸­éœ€è¦çš„å¯¹è±¡å±•ç¤ºå‡ºæ¥ï¼Œä¸è¿‡è¿™è¾¹è¿˜æ˜¯ç”¨åˆ°äº† antd çš„ tableï¼Œæ‰€ä»¥ map å­¦çš„è¿˜ä¸æ˜¯ç‰¹åˆ«å¥½ã€‚è¿˜è¦è°¢è°¢å­¦é•¿çš„ä¸€ä¸ªç±»ä¼¼æœåŠ¡å™¨çš„ä¸œè¥¿ï¼Œä¸è¿‡å¬è¯´åé¢ä¸ç”¨å¼€ç€å•¥çš„ï¼Œä¸‹æ¬¡é—®é—®ï¼Œé•¿ç‚¹çŸ¥è¯†ã€‚å…¶å®è¿™è¾¹æœ‰ä¸€ä¸ªé€‰å–éœ€è¦çš„ json å­—æ®µï¼Œå†é‡æ–°ç»„æˆä¸€ä¸ªæ–°æ•°ç»„çš„ä¸œè¥¿ï¼Œæˆ‘å†ç™¾åº¦ä¸Šæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œä½†æ˜¯å¿ƒé‡Œå¾ˆéš¾è¿‡ï¼ˆéš¾è¿‡ï¼‰ï¼Œå› `list.forEach(function(item){arr.push({key: item.id, username:item.username, idens:item.role})});` ä½ çœ‹ï¼š`forEach`æˆ‘çŸ¥é“ï¼Œæ˜¯è¿™ä¸ªç”¨æ³•ã€‚`push`æˆ‘çŸ¥é“ï¼Œä½†ä¸çŸ¥é“æœ‰æå–çš„ç”¨æ³•å•Šã€‚`item.id`åˆæ˜¯ä¸ªæ€ä¹ˆçš„ç¥ä»™ç”¨æ³•å•Šã€‚(ä½ éœ€è¦è¡¥ä¼šæ¥ã€‚ã€‚ã€‚)

### çŠ¶æ€

| é—®é¢˜ | çŠ¶æ€ | è§£å†³é—®é¢˜çš„å°ä¼™ä¼´ |
| ---- | ---- | ---------------- |
| 1    | ğŸ’©   | ğŸ‘¤               |
| 2    | ğŸŒŸ   | ğŸ‘Hazelnuttt     |
| 3    | ğŸ’©   | ğŸ‘¤               |
| 4    | ğŸ’©   | ğŸ‘¤               |
| 5    | ğŸ’©   | ğŸ‘¤               |
| 6    | ğŸ’©   | ğŸ‘¤               |
| 7    | ğŸ’©   | ğŸ‘¤               |
| 8    | ğŸ’©   | ğŸ‘¤               |
